\doxysection{BMx280 }
\hypertarget{group___b_mx280}{}\label{group___b_mx280}\index{BMx280@{BMx280}}


Библиотека для работы с BME/\+BMP280. Позволяет проводить инициализацию, базовую конфигурацию, чтение измеренных данных.  


\doxysubsubsection*{Разделы}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{group___s_t_a_n_d_b_y___m_o_d_e}{STANDBY\+\_\+\+MODE}}
\begin{DoxyCompactList}\small\item\em Конфигурация частоты получения данных с датчиков термометра, барометра, гигрометра \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___o_v_e_r_s_a_m_p_l_i_n_g}{OVERSAMPLING}}
\begin{DoxyCompactList}\small\item\em Конфигурация точности измеряемых показаний. Применимо для барометра и термометра \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___i_i_r___f_i_l_t_e_r}{IIR\+\_\+\+FILTER}}
\begin{DoxyCompactList}\small\item\em Конфигурация IIR-\/фильтра для барометра \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Файлы}
\begin{DoxyCompactItemize}
\item 
файл \mbox{\hyperlink{_b_mx280_8h}{BMx280.\+h}}
\begin{DoxyCompactList}\small\item\em API библиотеки для использования в своих проектах \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Функции}
\begin{DoxyCompactItemize}
\item 
HAL\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{group___b_mx280_gaeb4962c9608f1182364dcae9585f43b1}{BMx280\+\_\+init}} (I2\+C\+\_\+\+Type\+Def \texorpdfstring{$\ast$}{*}hi2c\+\_\+, uint32\+\_\+t ref\+Pressure\+\_\+)
\begin{DoxyCompactList}\small\item\em Инициализация BME/\+BMP280. \end{DoxyCompactList}\item 
HAL\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{group___b_mx280_ga0c6aef7cbd6323e9b67b9b0c4bca16f1}{BMx280\+\_\+config}} (uint8\+\_\+t T\+\_\+\+OS, uint8\+\_\+t P\+\_\+\+OS, uint8\+\_\+t H\+\_\+\+OS, uint8\+\_\+t STDB, uint8\+\_\+t IIRF)
\begin{DoxyCompactList}\small\item\em Конфигурация датчика BMP/\+BME280. \end{DoxyCompactList}\item 
HAL\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{group___b_mx280_ga7e7cdaeae911bfecc62c276a196a48a5}{BME280\+\_\+forced\+\_\+measure}} (float \texorpdfstring{$\ast$}{*}temp, float \texorpdfstring{$\ast$}{*}press, float \texorpdfstring{$\ast$}{*}hum, float \texorpdfstring{$\ast$}{*}h)
\begin{DoxyCompactList}\small\item\em Функция для разового измерения и чтения данных с датчика BME280. \end{DoxyCompactList}\item 
HAL\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{group___b_mx280_ga55e3e5e076801147905ece515f95d001}{BME280\+\_\+get\+\_\+measure}} (float \texorpdfstring{$\ast$}{*}temp, float \texorpdfstring{$\ast$}{*}press, float \texorpdfstring{$\ast$}{*}hum, float \texorpdfstring{$\ast$}{*}h)
\begin{DoxyCompactList}\small\item\em Чтение измеренных данных из памяти BME280. \end{DoxyCompactList}\item 
HAL\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{group___b_mx280_gab9b4bc64a810e07d72bfd38626b38027}{BMP280\+\_\+forced\+\_\+measure}} (float \texorpdfstring{$\ast$}{*}temp, float \texorpdfstring{$\ast$}{*}press, float \texorpdfstring{$\ast$}{*}h)
\begin{DoxyCompactList}\small\item\em Функция для разового измерения и чтения данных с датчика BMP280. \end{DoxyCompactList}\item 
HAL\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{group___b_mx280_ga7828835a30dcc11b11ec4b6e8b9cc7a2}{BMP280\+\_\+get\+\_\+measure}} (float \texorpdfstring{$\ast$}{*}temp, float \texorpdfstring{$\ast$}{*}press, float \texorpdfstring{$\ast$}{*}h)
\begin{DoxyCompactList}\small\item\em Чтение измеренных данных из памяти BMP280. \end{DoxyCompactList}\item 
HAL\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{group___b_mx280_ga414960f385cffa90902314181a741fc6}{BMx280\+\_\+sleep}} ()
\begin{DoxyCompactList}\small\item\em Переход в режим сна \end{DoxyCompactList}\item 
HAL\+\_\+\+Status\+Type\+Def \mbox{\hyperlink{group___b_mx280_gaadfd90b9c48c238aa9b4826d7fa5c8ea}{BMx280\+\_\+normal\+\_\+measure}} ()
\begin{DoxyCompactList}\small\item\em Переход в режим измерений. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Подробное описание}
Библиотека для работы с BME/\+BMP280. Позволяет проводить инициализацию, базовую конфигурацию, чтение измеренных данных. 



\label{doc-func-members}
\Hypertarget{group___b_mx280_doc-func-members}
\doxysubsection{Функции}
\Hypertarget{group___b_mx280_ga7e7cdaeae911bfecc62c276a196a48a5}\index{BMx280@{BMx280}!BME280\_forced\_measure@{BME280\_forced\_measure}}
\index{BME280\_forced\_measure@{BME280\_forced\_measure}!BMx280@{BMx280}}
\doxysubsubsection{\texorpdfstring{BME280\_forced\_measure()}{BME280\_forced\_measure()}}
{\footnotesize\ttfamily \label{group___b_mx280_ga7e7cdaeae911bfecc62c276a196a48a5} 
HAL\+\_\+\+Status\+Type\+Def BME280\+\_\+forced\+\_\+measure (\begin{DoxyParamCaption}\item[{float \texorpdfstring{$\ast$}{*}}]{temp}{, }\item[{float \texorpdfstring{$\ast$}{*}}]{press}{, }\item[{float \texorpdfstring{$\ast$}{*}}]{hum}{, }\item[{float \texorpdfstring{$\ast$}{*}}]{h}{}\end{DoxyParamCaption})}



Функция для разового измерения и чтения данных с датчика BME280. 

Высота вычисляется по формуле $ 29.254 \cdot (T + 273.15) \cdot \log(\frac{pres_{ref}}{pres})$

\begin{DoxyNote}{Заметки}
Функции измерения данных не универсальны для датчиков BMP/\+BME280.
\end{DoxyNote}

\begin{DoxyParams}[1]{Аргументы}
\mbox{\texttt{out}}  & {\em temp} & Измеренная температура в градусах Цельсия \\
\hline
\mbox{\texttt{out}}  & {\em press} & Измеренное давление в Паскалях \\
\hline
\mbox{\texttt{out}}  & {\em hum} & Измеренная влажность в \% \\
\hline
\mbox{\texttt{out}}  & {\em h} & Вычисленная высота в метрах \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Возвращает}
HAL\+\_\+\+Status\+Type\+Def Результат получения данных по I2C 
\end{DoxyReturn}
\Hypertarget{group___b_mx280_ga55e3e5e076801147905ece515f95d001}\index{BMx280@{BMx280}!BME280\_get\_measure@{BME280\_get\_measure}}
\index{BME280\_get\_measure@{BME280\_get\_measure}!BMx280@{BMx280}}
\doxysubsubsection{\texorpdfstring{BME280\_get\_measure()}{BME280\_get\_measure()}}
{\footnotesize\ttfamily \label{group___b_mx280_ga55e3e5e076801147905ece515f95d001} 
HAL\+\_\+\+Status\+Type\+Def BME280\+\_\+get\+\_\+measure (\begin{DoxyParamCaption}\item[{float \texorpdfstring{$\ast$}{*}}]{temp}{, }\item[{float \texorpdfstring{$\ast$}{*}}]{press}{, }\item[{float \texorpdfstring{$\ast$}{*}}]{hum}{, }\item[{float \texorpdfstring{$\ast$}{*}}]{h}{}\end{DoxyParamCaption})}



Чтение измеренных данных из памяти BME280. 

Используется при включении режима измерений с помощью \doxylink{group___b_mx280_gaadfd90b9c48c238aa9b4826d7fa5c8ea}{BMx280\+\_\+normal\+\_\+measure}. ~\newline
 Высота вычисляется по формуле $ 29.254 \cdot (T + 273.15) \cdot \log(\frac{pres_{ref}}{pres})$

\begin{DoxyNote}{Заметки}
Функции чтения данных не универсальны для датчиков BMP/\+BME280.
\end{DoxyNote}

\begin{DoxyParams}[1]{Аргументы}
\mbox{\texttt{out}}  & {\em temp} & Измеренная температура в градусах Цельсия \\
\hline
\mbox{\texttt{out}}  & {\em press} & Измеренное давление в Паскалях \\
\hline
\mbox{\texttt{out}}  & {\em hum} & Измеренная влажность в \% \\
\hline
\mbox{\texttt{out}}  & {\em h} & Вычисленная высота в метрах \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Возвращает}
HAL\+\_\+\+Status\+Type\+Def Результат получения данных по I2C 
\end{DoxyReturn}
\Hypertarget{group___b_mx280_gab9b4bc64a810e07d72bfd38626b38027}\index{BMx280@{BMx280}!BMP280\_forced\_measure@{BMP280\_forced\_measure}}
\index{BMP280\_forced\_measure@{BMP280\_forced\_measure}!BMx280@{BMx280}}
\doxysubsubsection{\texorpdfstring{BMP280\_forced\_measure()}{BMP280\_forced\_measure()}}
{\footnotesize\ttfamily \label{group___b_mx280_gab9b4bc64a810e07d72bfd38626b38027} 
HAL\+\_\+\+Status\+Type\+Def BMP280\+\_\+forced\+\_\+measure (\begin{DoxyParamCaption}\item[{float \texorpdfstring{$\ast$}{*}}]{temp}{, }\item[{float \texorpdfstring{$\ast$}{*}}]{press}{, }\item[{float \texorpdfstring{$\ast$}{*}}]{h}{}\end{DoxyParamCaption})}



Функция для разового измерения и чтения данных с датчика BMP280. 

Высота вычисляется по формуле $ 29.254 \cdot (T + 273.15) \cdot \log(\frac{pres_{ref}}{pres})$

\begin{DoxyNote}{Заметки}
Функции измерения данных не универсальны для датчиков BMP/\+BME280.
\end{DoxyNote}

\begin{DoxyParams}[1]{Аргументы}
\mbox{\texttt{out}}  & {\em temp} & Измеренная температура в градусах Цельсия \\
\hline
\mbox{\texttt{out}}  & {\em press} & Измеренное давление в Паскалях \\
\hline
\mbox{\texttt{out}}  & {\em h} & Вычисленная высота в метрах \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Возвращает}
HAL\+\_\+\+Status\+Type\+Def Результат получения данных по I2C 
\end{DoxyReturn}
\Hypertarget{group___b_mx280_ga7828835a30dcc11b11ec4b6e8b9cc7a2}\index{BMx280@{BMx280}!BMP280\_get\_measure@{BMP280\_get\_measure}}
\index{BMP280\_get\_measure@{BMP280\_get\_measure}!BMx280@{BMx280}}
\doxysubsubsection{\texorpdfstring{BMP280\_get\_measure()}{BMP280\_get\_measure()}}
{\footnotesize\ttfamily \label{group___b_mx280_ga7828835a30dcc11b11ec4b6e8b9cc7a2} 
HAL\+\_\+\+Status\+Type\+Def BMP280\+\_\+get\+\_\+measure (\begin{DoxyParamCaption}\item[{float \texorpdfstring{$\ast$}{*}}]{temp}{, }\item[{float \texorpdfstring{$\ast$}{*}}]{press}{, }\item[{float \texorpdfstring{$\ast$}{*}}]{h}{}\end{DoxyParamCaption})}



Чтение измеренных данных из памяти BMP280. 

Используется при включении режима измерений с помощью \doxylink{group___b_mx280_gaadfd90b9c48c238aa9b4826d7fa5c8ea}{BMx280\+\_\+normal\+\_\+measure}. ~\newline
 Высота вычисляется по формуле $ 29.254 \cdot (T + 273.15) \cdot \log(\frac{pres_{ref}}{pres})$

\begin{DoxyNote}{Заметки}
Функции чтения данных не универсальны для датчиков BMP/\+BME280.
\end{DoxyNote}

\begin{DoxyParams}[1]{Аргументы}
\mbox{\texttt{out}}  & {\em temp} & Измеренная температура в градусах Цельсия \\
\hline
\mbox{\texttt{out}}  & {\em press} & Измеренное давление в Паскалях \\
\hline
\mbox{\texttt{out}}  & {\em h} & Вычисленная высота в метрах \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Возвращает}
HAL\+\_\+\+Status\+Type\+Def Результат получения данных по I2C 
\end{DoxyReturn}
\Hypertarget{group___b_mx280_ga0c6aef7cbd6323e9b67b9b0c4bca16f1}\index{BMx280@{BMx280}!BMx280\_config@{BMx280\_config}}
\index{BMx280\_config@{BMx280\_config}!BMx280@{BMx280}}
\doxysubsubsection{\texorpdfstring{BMx280\_config()}{BMx280\_config()}}
{\footnotesize\ttfamily \label{group___b_mx280_ga0c6aef7cbd6323e9b67b9b0c4bca16f1} 
HAL\+\_\+\+Status\+Type\+Def BMx280\+\_\+config (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{T\+\_\+\+OS}{, }\item[{uint8\+\_\+t}]{P\+\_\+\+OS}{, }\item[{uint8\+\_\+t}]{H\+\_\+\+OS}{, }\item[{uint8\+\_\+t}]{STDB}{, }\item[{uint8\+\_\+t}]{IIRF}{}\end{DoxyParamCaption})}



Конфигурация датчика BMP/\+BME280. 

Конфигурирует OVERSAMPLING для датчика температуры, давления и влажности, частоту работы, коэффициент сглаживания для IIR фильтра.

\begin{DoxyNote}{Заметки}
Конфигурация датчика влажности актуальна только для BME280. BMP280 не имеет датчика влажности.
\end{DoxyNote}

\begin{DoxyParams}[1]{Аргументы}
\mbox{\texttt{in}}  & {\em T\+\_\+\+OS} & OVERSAMPLING для термометра. Допустимые значения см. в \doxylink{group___o_v_e_r_s_a_m_p_l_i_n_g}{OVERSAMPLING} \\
\hline
\mbox{\texttt{in}}  & {\em P\+\_\+\+OS} & OVERSAMPLING для барометра. Допустимые значения см. в \doxylink{group___o_v_e_r_s_a_m_p_l_i_n_g}{OVERSAMPLING} \\
\hline
\mbox{\texttt{in}}  & {\em H\+\_\+\+OS} & OVERSAMPLING для гигрометра. Допустимые значения см. в \doxylink{group___o_v_e_r_s_a_m_p_l_i_n_g}{OVERSAMPLING} \\
\hline
\mbox{\texttt{in}}  & {\em STDB} & Частоты работы. Допустимые значения см. в \doxylink{group___s_t_a_n_d_b_y___m_o_d_e}{STANDBY\+\_\+\+MODE} \\
\hline
\mbox{\texttt{in}}  & {\em IIRF} & Коэффициент сглаживания для IIR-\/фильтра. Допустимые значения см. в \doxylink{group___i_i_r___f_i_l_t_e_r}{IIR\+\_\+\+FILTER} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Возвращает}
HAL\+\_\+\+Status\+Type\+Def Результат получения данных по I2C 
\end{DoxyReturn}
\Hypertarget{group___b_mx280_gaeb4962c9608f1182364dcae9585f43b1}\index{BMx280@{BMx280}!BMx280\_init@{BMx280\_init}}
\index{BMx280\_init@{BMx280\_init}!BMx280@{BMx280}}
\doxysubsubsection{\texorpdfstring{BMx280\_init()}{BMx280\_init()}}
{\footnotesize\ttfamily \label{group___b_mx280_gaeb4962c9608f1182364dcae9585f43b1} 
HAL\+\_\+\+Status\+Type\+Def BMx280\+\_\+init (\begin{DoxyParamCaption}\item[{I2\+C\+\_\+\+Type\+Def \texorpdfstring{$\ast$}{*}}]{hi2c\+\_\+}{, }\item[{uint32\+\_\+t}]{ref\+Pressure\+\_\+}{}\end{DoxyParamCaption})}



Инициализация BME/\+BMP280. 

\begin{DoxyNote}{Заметки}
Автоматически определяет адрес датчика в зависимости от SDO. Данная библиотека поддерживает только один подключенный датчик BMP/\+BME280
\end{DoxyNote}

\begin{DoxyParams}[1]{Аргументы}
\mbox{\texttt{in}}  & {\em hi2c\+\_\+} & Экземляр интерфейса I2C, к которому подключен датчик \\
\hline
\mbox{\texttt{in}}  & {\em ref\+Pressure\+\_\+} & Начальное давление, относительно которого вычисляется высота по давлению \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Возвращает}
HAL\+\_\+\+Status\+Type\+Def Результат получения данных по I2C 
\end{DoxyReturn}
\Hypertarget{group___b_mx280_gaadfd90b9c48c238aa9b4826d7fa5c8ea}\index{BMx280@{BMx280}!BMx280\_normal\_measure@{BMx280\_normal\_measure}}
\index{BMx280\_normal\_measure@{BMx280\_normal\_measure}!BMx280@{BMx280}}
\doxysubsubsection{\texorpdfstring{BMx280\_normal\_measure()}{BMx280\_normal\_measure()}}
{\footnotesize\ttfamily \label{group___b_mx280_gaadfd90b9c48c238aa9b4826d7fa5c8ea} 
HAL\+\_\+\+Status\+Type\+Def BMx280\+\_\+normal\+\_\+measure (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Переход в режим измерений. 

Производит измерения с частотой \doxylink{group___s_t_a_n_d_b_y___m_o_d_e}{STANDBY\+\_\+\+MODE}, заданной с помощью \doxylink{group___b_mx280_ga0c6aef7cbd6323e9b67b9b0c4bca16f1}{BMx280\+\_\+config}. ~\newline
 Измерения записывает во внутреннюю память, которые можно считать функцией \doxylink{group___b_mx280_ga7828835a30dcc11b11ec4b6e8b9cc7a2}{BMP280\+\_\+get\+\_\+measure} или \doxylink{group___b_mx280_ga55e3e5e076801147905ece515f95d001}{BME280\+\_\+get\+\_\+measure}.

\begin{DoxyReturn}{Возвращает}
HAL\+\_\+\+Status\+Type\+Def Результат получения данных по I2C 
\end{DoxyReturn}
\Hypertarget{group___b_mx280_ga414960f385cffa90902314181a741fc6}\index{BMx280@{BMx280}!BMx280\_sleep@{BMx280\_sleep}}
\index{BMx280\_sleep@{BMx280\_sleep}!BMx280@{BMx280}}
\doxysubsubsection{\texorpdfstring{BMx280\_sleep()}{BMx280\_sleep()}}
{\footnotesize\ttfamily \label{group___b_mx280_ga414960f385cffa90902314181a741fc6} 
HAL\+\_\+\+Status\+Type\+Def BMx280\+\_\+sleep (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Переход в режим сна 

\begin{DoxyReturn}{Возвращает}
HAL\+\_\+\+Status\+Type\+Def Результат получения данных по I2C 
\end{DoxyReturn}
\input{group___s_t_a_n_d_b_y___m_o_d_e}
\input{group___o_v_e_r_s_a_m_p_l_i_n_g}
\input{group___i_i_r___f_i_l_t_e_r}
